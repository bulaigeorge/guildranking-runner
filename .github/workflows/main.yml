name: Run guildranking backend

on:
  schedule:
    - cron: "0 */6 * * *"   # every 6 hours (UTC)
  workflow_dispatch:        # allow manual run from Actions tab

jobs:
  run-job:
    runs-on: ubuntu-latest

    steps:
      - name: Run backend container
        run: |
          docker run --rm \
            -e DB_HOST=${{ secrets.DB_HOST }} \
            -e DB_NAME=${{ secrets.DB_NAME }} \
            -e DB_USER=${{ secrets.DB_USER }} \
            -e DB_PASSWORD=${{ secrets.DB_PASSWORD }} \
            -e RAIDRIO_API_KEY=${{ secrets.RAIDRIO_API_KEY }} \
            ghcr.io/<your-username>/guildranking-backend:dev
